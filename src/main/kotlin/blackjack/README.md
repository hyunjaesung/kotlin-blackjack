## 블랙잭 과제

### 기능 명세
- [x] 카드의 숫자 계산은 카드 숫자를 기본으로 하며, 예외로 Ace는 1 또는 11로 계산할 수 있으며, King, Queen, Jack은 각각 10으로 계산한다.
- [x] 게임을 시작하면 플레이어는 두 장의 카드를 지급 받으며, 두 장의 카드 숫자를 합쳐 21을 초과하지 않으면서 21에 가깝게 만들면 이긴다. 21을 넘지 않을 경우 원한다면 얼마든지 카드를 계속 뽑을 수 있다.

## 리뷰
### 1차
- [x] 일반적으로 Deck은 전체 카드 뭉치를 의미합니다. 플레이어의 손패는 Hand라고 하구요.
- [x] 이렇게 되면 카드가 중복해서 나올 수도 있지 않을까요?
- [x] Enum 활용
- [x] static한 클래스/로직이 나오면 이를 도메인 객체 내부로 옮길 수 있지 않을가 고민
- [x] name을 외부에서 주입하지 않고 내부에서 만들어도 되지 않을까 싶어요.

### 2차
- [x] [객체지향 생활 체조](https://hudi.blog/thoughtworks-anthology-object-calisthenics/)의 항목 중에는 "도메인 로직에 getter 사용을 지양하자"라는 항목이 있습니다. 블랙잭 점수를 비교하는 로직에는 getter가 두 번 등장하고 있습니다.
  또한, CardHand에서 값을 꺼내 사용하면서 CardHand의 상수까지 꺼내서 활용하고 있는데요, 이 부분을 개선해보시면 좋을 것 같아요.
- [x] A -> K -> 2를 받으면 몇 점이어야 할까요? A가 있는 soft, A가 없는 hard 케이스에 대해서 다양한 테스트 케이스가 필요해보여요. 점수를 구하는 법은 생각보다 간단합니다. A를 1로 생각하고 카드 점수 합을 구한 다음에 거기서 10 더한 값이 21을 초과하지 않으면 그 값을 사용하고 초과한다면 이전 값을 사용할 수 있어요.
- [x] CardValue 여기도 Comparable 관련 로직이 필요한 걸 보면 Enum으로 만들 수 있지 않을까 싶어요.

### 3차
- [x] 기본값을 넣어줄 때는 항상 클라이언트 관점에서 고민해보시면 좋을 것 같아요 파라미터 없이 dealer.getCards() 만을 호출 했을 때 클라이언트는 2장이 받아질 것이라는 사실을 알 수 있을까요?
- [x] Dealer가 둘이어서 어떤 딜러인지 헷갈릴 수도 있을 것 같은데요, 카드만 나눠주는 객체의 이름을 다르게 지어도 될 것 같습니다. 아니면 그냥 없애고 Deck을 활용할 수도 있을 것 같구요.
- [x] 이 방식에는 버그가 있습니다. 10, A, A 의 카드를 받았다면 몇 점이어야할까요? soft 룰을 일반 언어로 표현하면 "A는 1점으로 계산하고, 손패에 A가 한 장이라도 있고 점수가 11 이하라면 점수에 +10을 한다"로 나타낼 수 있습니다. 이 방식의 구현이 로직적으로 맞더라도 이런 사실을 잘 드러내기 힘들어보여요. 복잡한 룰이 있다면 코드로 이 룰을 그대로 표현해보는 건 어떨까요?
- [x] 요구사항을 잘 보시면 딜러의 첫 카드는 1장만 공개합니다. 이 것도 도메인 로직으로 표현해보시면 좋을 것 같아요.
- [x] 객체 내부에 타입을 enum으로 구분하는 경우라면 sealed class의 사용을 고려해볼 수 있을 것 같습니다.
- [x] 이렇게 GameResult에서 결과를 계산하게 되면 테스트 코드가 살짝 애매해지는 것 같아요. 테스트를 구성할 때는 Player vs Dealer의 결과를 테스트 하는게 자연스러운 방법일 것 같은데 지금은 1대다가 아닌 1:1이더라도 Players를 만들어야하고, 결과도 Map을 받아서 테스트해야하니깐요. 테스트 코드도 클라이언트 코드이기 때문에 테스트가 자연스럽다면 객체가 자연스러운 책임을 갖게 될 수 있는 것 같습니다.
- [x] 블랙잭 룰을 읽어보시면 좋을 것 같네요. 플레이어의 순서는 딜러보다 항상 앞이기 때문에 플레이어가 버스트라면 항상 플레이어가 패배하게 됩니다.
- [x] 또 룰을 읽어보면 이를 bust라고 하는데요, getter를 사용하지 않고 Holder의 책임으로 나타낼 수 있을 것 같습니다. 도메인을 탐구하고 이해하게 되면 코드도 훨씬 깔끔해질 수 있는 것 같습니다.

## 궁금한 것
- BlackJack 파일 내부의 playGameWithEachPlayer의 로직도 테스트를 하고싶은데 어떤식으로 하면 될지 감이안오네요 조언 부탁 드려요!
  - 이 부분은 도메인 로직과 입/출력이 섞이면서 테스트가 쉽지 않은 부분입니다. 블랙잭 미션을 제대로 즐기시는 분이라면 한번쯤 하게 되는 고민입니다 👍
    미션 요구사항 중에는 도메인의 테스트만 작성해보라는 요구사항이 있죠. 그렇다면 우리는 이 View 로직들을 도메인으로 넣어볼 수 있을 거에요. 하지만 MVC 패턴을 지키려면 도메인이 View를 알아서는 안됩니다. 그래서 우회법을 사용해볼 수 있을 거에요.
    while(player.getMoreCardIfWant(InputView::askGetCardMore)) 처럼 함수를 넘기는 방법입니다. 이렇게 구현하면 도메인이 직접적으로 View를 알게 하지 않으면서도 테스트를 작성할 수 있을 거에요.
    다만, 이러한 방식이 읽기 쉽고 유지보수가 용이한지는 고민해보시면 좋을 것 같네요 :)


## 챗 GPT 와 대화

## 써본 기능
- .first()
- .drop()
- sealed class
